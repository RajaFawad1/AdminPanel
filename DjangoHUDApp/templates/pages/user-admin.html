{% extends 'base.html' %}

{% load static %}

{% block title %}Table Plugins{% endblock %}

{% block css %}
	 <!-- PatternFly CSS -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/patternfly/4.224.2/patternfly.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="{% static 'plugins/datatables.net-bs5/css/dataTables.bootstrap5.min.css' %}" rel="stylesheet" />
	<link href="{% static 'plugins/datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css' %}" rel="stylesheet" />
	<link href="{% static 'plugins/datatables.net-responsive-bs5/css/responsive.bootstrap5.min.css' %}" rel="stylesheet" />
	<link href="{% static 'plugins/bootstrap-table/dist/bootstrap-table.min.css' %}" rel="stylesheet" />
    
    <style>
        
        
        .main-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .hljs-container{
            border:1px solid #798e98;
        }
        
        .table-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 16px;
        }
        .card-body{
            border: 1px solid #798e98;
        }
        .entries-per-page {
           
            background:transparent;
            color: rgb(198, 216, 224);
            font-size: 14px;
        }
        
        .entries-per-page select {
            background:transparent;
            border: 1px solid #798e98;
            color:rgb(198, 216, 224);
            padding: 4px 8px;
            border-radius: 4px;
	
        }
		.entries-per-page select option {
     /* Dark background */
    color:rgb(62, 64, 67);     /* Light text */
}
        
        .search-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .search-container label {
            color: #c9d1d9;
            font-size: 14px;
        }
        
        .search-container input {
            background-color:transparent;
            border: 1px solid #798e98;
            color:white;
            padding: 6px 12px;
            border-radius: 4px;
            width: 200px;
        }
        
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        
        .btn-go {
            padding: 6px 12px;
            border-radius: 4px;
            border: 1px solid #798e98;
           
            color: #c9d1d9;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .btn-go:hover {
            background-color: #798e98;
			color:#c9d1d9;
        }
        
        .table-container {
           
           
            border-radius: 6px;
            overflow: hidden;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
         
        }
        
        .data-table th {
            
            color: #f0f6fc;
            padding: 12px 24px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            border-bottom: 1px solid #798e98;
            cursor: pointer;
            user-select: none;
        }
        
      
        
        .data-table th .sort-icon {
            margin-left: 6px;
            opacity: 0.6;
        }
        
        .data-table tbody tr {
            border-bottom: 1px solid #798e98;
            
        }
     
        
       
        .data-table td:first-child {
    display: flex;
    align-items: center;
    gap: 8px;
}

.data-table td:first-child .expand-btn {
    order: -1; /* This moves the button before the number */
    margin-right: 0;
}
        
      
        
        .data-table td {
            padding: 12px 20px;
            font-size: 14px;
            color: #c9d1d9;
        }
        
        .expand-btn {
            background: transparent;
            border:1px solid #798e98;;
            
            cursor: pointer;
            padding: 4px;
            
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
        }
        
       
        
        .expand-btn.expanded {
            transform: rotate(90deg);
        }
        
      
        
        .expanded-row td {
            padding: 16px;
           
        }
        
        .expanded-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            max-width: 600px;
        }
        
        .expanded-field {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .expanded-field-label {
            font-weight: 600;
            color: #f0f6fc;
            font-size: 13px;
        }
        
        .expanded-field-value {
            color: #c9d1d9;
            font-size: 14px;
        }
        
        .pagination-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 16px;
        }
        
        .pagination-info {
            color: #798e98;
            font-size: 14px;
        }
        
        .pagination-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .pagination-input {
			background:transparent;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #798e98;
            font-size: 14px;
        }
        
        .pagination-input input {
            background:transparent;
            border: 1px solid #798e98;
            color: #798e98;
            padding: 4px 8px;
            border-radius: 3px;
            width: 45px;
            text-align: center;
        }
        
        .pagination-nav {
            display: flex;
            gap: 4px;
        }
        
        .page-btn {
            padding: 6px 10px;
            background:transparent;
            border: 1px solid #798e98;
            color: #798e98;
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
            min-width: 32px;
            text-align: center;
        }
        
        .page-btn:hover:not(:disabled) {
            background-color: #30363d;
        }
        
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .page-btn.active {
            background-color: #238636;
            border-color: #238636;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #8b949e;
        }
        
        @media (max-width: 768px) {
            .table-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .pagination-container {
                flex-direction: column;
                align-items: stretch;
                gap: 12px;
            }
            
            .pagination-controls {
                justify-content: center;
            }
            
        }
    </style>
{% endblock %}

{% block js %}
    <script src="{% static 'plugins/@highlightjs/cdn-assets/highlight.min.js' %}"></script>
	<script src="{% static 'js/demo/highlightjs.demo.js' %}"></script>
	<script src="{% static 'plugins/datatables.net/js/dataTables.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-bs5/js/dataTables.bootstrap5.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/dataTables.buttons.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.colVis.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.html5.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.print.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons-bs5/js/buttons.bootstrap5.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-responsive/js/dataTables.responsive.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-responsive-bs5/js/responsive.bootstrap5.min.js' %}"></script>
	<script src="{% static 'plugins/bootstrap-table/dist/bootstrap-table.min.js' %}"></script>
	
	<script src="{% static 'js/demo/sidebar-scrollspy.demo.js' %}"></script>
	<script>
	     // Employee data
        const employeeData = [
            { id: 1, name: "Tiger Nixon", position: "System Architect", office: "Edinburgh", age: 61, startDate: "2025/04/25", salary: "$320,800" },
            { id: 2, name: "Garrett Winters", position: "Accountant", office: "Tokyo", age: 63, startDate: "2025/07/25", salary: "$170,750" },
            { id: 3, name: "Ashton Cox", position: "Junior Technical Author", office: "San Francisco", age: 66, startDate: "2025/01/12", salary: "$86,000" },
            { id: 4, name: "Cedric Kelly", position: "Senior Javascript Developer", office: "Edinburgh", age: 22, startDate: "2025/03/29", salary: "$433,060" },
            { id: 5, name: "Airi Satou", position: "Accountant", office: "Tokyo", age: 33, startDate: "2025/11/28", salary: "$162,700" },
            { id: 6, name: "Brielle Williamson", position: "Integration Specialist", office: "New York", age: 61, startDate: "2025/12/02", salary: "$372,000" },
            { id: 7, name: "Herrod Chandler", position: "Sales Assistant", office: "San Francisco", age: 59, startDate: "2025/08/06", salary: "$137,500" },
            { id: 8, name: "Rhona Davidson", position: "Integration Specialist", office: "Tokyo", age: 55, startDate: "2025/10/14", salary: "$327,900" },
            { id: 9, name: "Colleen Hurst", position: "Javascript Developer", office: "San Francisco", age: 39, startDate: "2025/09/15", salary: "$205,500" },
            { id: 10, name: "Sonya Frost", position: "Software Engineer", office: "Edinburgh", age: 23, startDate: "2025/12/13", salary: "$103,600" },
            { id: 11, name: "Jena Gaines", position: "Office Manager", office: "London", age: 30, startDate: "2025/12/19", salary: "$90,560" },
            { id: 12, name: "Quinn Flynn", position: "Support Lead", office: "Edinburgh", age: 22, startDate: "2025/03/03", salary: "$342,000" },
            { id: 13, name: "Charde Marshall", position: "Regional Director", office: "San Francisco", age: 36, startDate: "2025/10/16", salary: "$470,600" },
            { id: 14, name: "Haley Kennedy", position: "Senior Marketing Designer", office: "London", age: 43, startDate: "2025/12/18", salary: "$313,500" },
            { id: 15, name: "Tatyana Fitzpatrick", position: "Regional Director", office: "London", age: 19, startDate: "2025/03/17", salary: "$385,750" },
            { id: 16, name: "Michael Silva", position: "Marketing Designer", office: "London", age: 66, startDate: "2025/11/27", salary: "$198,500" },
            { id: 17, name: "Paul Byrd", position: "Chief Financial Officer (CFO)", office: "New York", age: 64, startDate: "2025/06/09", salary: "$725,000" },
            { id: 18, name: "Gloria Little", position: "Systems Administrator", office: "New York", age: 59, startDate: "2025/04/10", salary: "$237,500" },
            { id: 19, name: "Bradley Greer", position: "Software Engineer", office: "London", age: 41, startDate: "2025/10/13", salary: "$132,000" },
            { id: 20, name: "Dai Rios", position: "Personnel Lead", office: "Edinburgh", age: 35, startDate: "2025/09/26", salary: "$217,500" },
            { id: 21, name: "Jenette Caldwell", position: "Development Lead", office: "New York", age: 30, startDate: "2025/09/03", salary: "$345,000" },
            { id: 22, name: "Yuri Berry", position: "Chief Marketing Officer (CMO)", office: "New York", age: 40, startDate: "2025/06/25", salary: "$675,000" },
            { id: 23, name: "Caesar Vance", position: "Pre-Sales Support", office: "New York", age: 21, startDate: "2025/12/12", salary: "$106,450" },
            { id: 24, name: "Doris Wilder", position: "Sales Assistant", office: "Sidney", age: 23, startDate: "2025/09/20", salary: "$85,600" },
            { id: 25, name: "Angelica Ramos", position: "Chief Executive Officer (CEO)", office: "London", age: 47, startDate: "2025/10/09", salary: "$1,200,000" },
            { id: 26, name: "Gavin Joyce", position: "Developer", office: "Edinburgh", age: 42, startDate: "2025/12/22", salary: "$92,575" },
            { id: 27, name: "Jennifer Chang", position: "Regional Director", office: "Singapore", age: 28, startDate: "2025/11/14", salary: "$357,650" },
            { id: 28, name: "Brenden Wagner", position: "Software Engineer", office: "San Francisco", age: 28, startDate: "2025/06/07", salary: "$206,850" },
            { id: 29, name: "Fiona Green", position: "Chief Operating Officer (COO)", office: "San Francisco", age: 48, startDate: "2025/03/11", salary: "$850,000" },
            { id: 30, name: "Shou Itou", position: "Regional Marketing", office: "Tokyo", age: 20, startDate: "2025/08/14", salary: "$163,000" },
            { id: 31, name: "Michelle House", position: "Integration Specialist", office: "Sidney", age: 37, startDate: "2025/06/02", salary: "$95,400" },
            { id: 32, name: "Suki Burks", position: "Developer", office: "London", age: 53, startDate: "2025/10/22", salary: "$114,500" },
            { id: 33, name: "Prescott Bartlett", position: "Technical Author", office: "London", age: 27, startDate: "2025/05/07", salary: "$145,000" },
            { id: 34, name: "Gavin Cortez", position: "Team Leader", office: "San Francisco", age: 22, startDate: "2025/10/26", salary: "$235,500" },
            { id: 35, name: "Martena Mccray", position: "Post-Sales support", office: "Edinburgh", age: 46, startDate: "2025/03/09", salary: "$324,050" },
            { id: 36, name: "Unity Butler", position: "Marketing Designer", office: "San Francisco", age: 47, startDate: "2025/12/09", salary: "$85,675" },
            { id: 37, name: "Howard Hatfield", position: "Office Manager", office: "San Francisco", age: 51, startDate: "2025/12/16", salary: "$164,500" },
            { id: 38, name: "Hope Fuentes", position: "Secretary", office: "San Francisco", age: 41, startDate: "2025/02/12", salary: "$109,850" },
            { id: 39, name: "Vivian Harrell", position: "Financial Controller", office: "San Francisco", age: 62, startDate: "2025/02/14", salary: "$452,500" },
            { id: 40, name: "Timothy Mooney", position: "Office Manager", office: "London", age: 37, startDate: "2025/12/11", salary: "$136,200" },
            { id: 41, name: "Jackson Bradshaw", position: "Director", office: "New York", age: 65, startDate: "2025/09/26", salary: "$645,750" },
            { id: 42, name: "Olivia Liang", position: "Support Engineer", office: "Singapore", age: 64, startDate: "2025/02/03", salary: "$234,500" },
            { id: 43, name: "Bruno Nash", position: "Software Engineer", office: "London", age: 38, startDate: "2025/05/03", salary: "$163,500" },
            { id: 44, name: "Sakura Yamamoto", position: "Support Engineer", office: "Tokyo", age: 37, startDate: "2025/08/19", salary: "$139,575" },
            { id: 45, name: "Thor Walton", position: "Developer", office: "New York", age: 61, startDate: "2025/08/11", salary: "$98,540" },
            { id: 46, name: "Finn Camacho", position: "Support Engineer", office: "San Francisco", age: 47, startDate: "2025/07/07", salary: "$87,500" },
            { id: 47, name: "Serge Baldwin", position: "Data Coordinator", office: "Singapore", age: 64, startDate: "2025/04/09", salary: "$138,575" },
            { id: 48, name: "Zenaida Frank", position: "Software Engineer", office: "New York", age: 63, startDate: "2025/01/04", salary: "$125,250" },
            { id: 49, name: "Zorita Serrano", position: "Software Engineer", office: "San Francisco", age: 56, startDate: "2025/06/01", salary: "$115,000" },
            { id: 50, name: "Jennifer Acosta", position: "Junior Javascript Developer", office: "Edinburgh", age: 43, startDate: "2025/02/01", salary: "$75,650" },
            { id: 51, name: "Cara Stevens", position: "Sales Assistant", office: "New York", age: 46, startDate: "2025/12/06", salary: "$145,600" },
            { id: 52, name: "Hermione Butler", position: "Regional Director", office: "London", age: 47, startDate: "2025/03/21", salary: "$356,250" },
            { id: 53, name: "Lael Greer", position: "Systems Administrator", office: "London", age: 21, startDate: "2025/02/27", salary: "$103,500" },
            { id: 54, name: "Jonas Alexander", position: "Developer", office: "San Francisco", age: 30, startDate: "2025/07/14", salary: "$86,500" },
            { id: 55, name: "Shad Decker", position: "Regional Director", office: "Edinburgh", age: 51, startDate: "2025/11/13", salary: "$183,000" },
            { id: 56, name: "Michael Bruce", position: "Javascript Developer", office: "Singapore", age: 29, startDate: "2025/06/27", salary: "$183,000" },
            { id: 57, name: "Donna Snider", position: "Customer Support", office: "New York", age: 27, startDate: "2025/01/25", salary: "$112,000" }
        ];

        let filteredData = [...employeeData];
        let currentPage = 1;
        let entriesPerPage = 10;
        let totalPages = Math.ceil(filteredData.length / entriesPerPage);
        let sortColumn = -1;
        let sortDirection = 'asc';
        let expandedRows = new Set();

        // Initialize the table
        function initializeTable() {
            renderTable();
            updatePagination();
        }

        // Render table rows
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            const noResults = document.getElementById('noResults');
            
            if (filteredData.length === 0) {
                tbody.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }
            
            noResults.style.display = 'none';
            
            const startIndex = (currentPage - 1) * entriesPerPage;
            const endIndex = startIndex + entriesPerPage;
            const pageData = filteredData.slice(startIndex, endIndex);

            tbody.innerHTML = pageData.map((employee, index) => {
                const globalIndex = startIndex + index;
                const isExpanded = expandedRows.has(employee.id);
                
                return `
                   <tr>
        <td>
            <button class="expand-btn ${isExpanded ? 'expanded' : ''}" onclick="toggleRow(${employee.id})">
                <i class="fas fa-plus"></i>
            </button>
            ${globalIndex + 1}
        </td>
        <td>${employee.name}</td>
        <td>${employee.position}</td>
        <td>${employee.office}</td>
        <td>${employee.age}</td>
    </tr>
                    ${isExpanded ? `
                    <tr class="expanded-row" id="expanded-${employee.id}">
                        <td colspan="5">
                            <div class="expanded-content">
                                <div class="expanded-field">
                                    <div class="expanded-field-label">Start Date</div>
                                    <div class="expanded-field-value">${employee.startDate}</div>
                                </div>
                                <div class="expanded-field">
                                    <div class="expanded-field-label">Salary</div>
                                    <div class="expanded-field-value">${employee.salary}</div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    ` : ''}
                `;
            }).join('');
        }

        // Toggle row expansion
        function toggleRow(employeeId) {
            const expandBtn = event.target.closest('.expand-btn');
            const icon = expandBtn.querySelector('i');
            
            if (expandedRows.has(employeeId)) {
                expandedRows.delete(employeeId);
                expandBtn.classList.remove('expanded');
                icon.className = 'fas fa-plus';
            } else {
                expandedRows.add(employeeId);
                expandBtn.classList.add('expanded');
                icon.className = 'fas fa-minus';
            }
            
            renderTable();
        }

        // Update pagination
        function updatePagination() {
            totalPages = Math.ceil(filteredData.length / entriesPerPage);
            
            // Update pagination info
            const startEntry = (currentPage - 1) * entriesPerPage + 1;
            const endEntry = Math.min(currentPage * entriesPerPage, filteredData.length);
            
            document.getElementById('paginationInfo').textContent = 
                `Showing ${startEntry} to ${endEntry} of ${filteredData.length} entries`;

            // Update total pages display
            document.getElementById('totalPagesTop').textContent = totalPages;
            document.getElementById('totalPagesBottom').textContent = totalPages;

            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('firstBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
            document.getElementById('lastBtn').disabled = currentPage === totalPages;

            // Update page inputs
            document.getElementById('pageInputTop').max = totalPages;
            document.getElementById('pageInputBottom').max = totalPages;
        }

        // Change page
        function changePage(direction) {
            const newPage = currentPage + direction;
            
            if (newPage >= 1 && newPage <= totalPages) {
                currentPage = newPage;
                renderTable();
                updatePagination();
            }
        }

        // Go to specific page
        function goToPage(page) {
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
                updatePagination();
            }
        }

        // Go to page from input
        function goToInputPage(inputId) {
            const pageInput = document.getElementById(inputId);
            const targetPage = parseInt(pageInput.value);
            
            if (targetPage && targetPage >= 1 && targetPage <= totalPages) {
                currentPage = targetPage;
                renderTable();
                updatePagination();
                pageInput.value = '';
            }
        }

        // Change entries per page
        function changeEntriesPerPage(value) {
            entriesPerPage = parseInt(value);
            currentPage = 1;
            document.getElementById('entriesPerPageTop').value = value;
            renderTable();
            updatePagination();
        }

        // Search functionality
        function searchEmployees() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            filteredData = employeeData.filter(employee => 
                employee.name.toLowerCase().includes(searchTerm) ||
                employee.position.toLowerCase().includes(searchTerm) ||
                employee.office.toLowerCase().includes(searchTerm) ||
                employee.salary.toLowerCase().includes(searchTerm)
            );
            
            currentPage = 1;
            expandedRows.clear();
            renderTable();
            updatePagination();
        }

        // Sort functionality
        function sortTable(columnIndex) {
            const columns = ['name', 'position', 'office', 'age'];
            
            if (columnIndex === -1) {
                // Sort by ID
                if (sortColumn === -1) {
                    sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
                } else {
                    sortColumn = -1;
                    sortDirection = 'asc';
                }
                
                filteredData.sort((a, b) => {
                    return sortDirection === 'asc' ? a.id - b.id : b.id - a.id;
                });
            } else {
                const column = columns[columnIndex];
                
                if (sortColumn === columnIndex) {
                    sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
                } else {
                    sortColumn = columnIndex;
                    sortDirection = 'asc';
                }
                

                filteredData.sort((a, b) => {
                    const valA = a[column].toString().toLowerCase();
                    const valB = b[column].toString().toLowerCase();
                    
                    if (valA < valB) return sortDirection === 'asc' ? -1 : 1;
                    if (valA > valB) return sortDirection === 'asc' ? 1 : -1;
                    return 0;
                });
            }
            
            // Update sort icons
            document.querySelectorAll('.sort-icon').forEach(icon => {
                icon.className = 'fas fa-sort sort-icon';
            });
            
            const headerCells = document.querySelectorAll('th');
            if (sortColumn === -1) {
                const icon = headerCells[0].querySelector('.sort-icon');
                icon.className = sortDirection === 'asc' 
                    ? 'fas fa-sort-up sort-icon' 
                    : 'fas fa-sort-down sort-icon';
            } else {
                const icon = headerCells[sortColumn + 1].querySelector('.sort-icon');
                icon.className = sortDirection === 'asc' 
                    ? 'fas fa-sort-up sort-icon' 
                    : 'fas fa-sort-down sort-icon';
            }
            
            currentPage = 1;
            renderTable();
            updatePagination();
        }

        // Export to CSV
        function exportToCSV() {
            const headers = ['ID', 'Name', 'Position', 'Office', 'Age', 'Start Date', 'Salary'];
            const csvRows = [headers.join(',')];
            
            filteredData.forEach(employee => {
                const row = [
                    employee.id,
                    `"${employee.name}"`,
                    `"${employee.position}"`,
                    `"${employee.office}"`,
                    employee.age,
                    employee.startDate,
                    `"${employee.salary}"`
                ];
                csvRows.push(row.join(','));
            });
            
            const csvContent = csvRows.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', 'employees.csv');
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Print table
        function printTable() {
            const printWindow = window.open('', '', 'height=600,width=800');
            printWindow.document.write('<html><head><title>Employee Data</title>');
            printWindow.document.write('<style>');
            printWindow.document.write(`
                body { font-family: Arial, sans-serif; }
                table { border-collapse: collapse; width: 100%; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; }
                tr:nth-child(even) { background-color: #f9f9f9; }
                .expanded-content { display: none; }
            `);
            printWindow.document.write('</style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write('<h1>Employee Data</h1>');
            
            // Create a simplified table for printing
            const table = document.createElement('table');
            const thead = document.createElement('thead');
            const tbody = document.createElement('tbody');
            
            // Add headers
            const headerRow = document.createElement('tr');
            ['ID', 'Name', 'Position', 'Office', 'Age', 'Start Date', 'Salary'].forEach(text => {
                const th = document.createElement('th');
                th.textContent = text;
                headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            table.appendChild(thead);
            
            // Add data rows
            filteredData.forEach(employee => {
                const row = document.createElement('tr');
                
                [employee.id, employee.name, employee.position, employee.office, 
                 employee.age, employee.startDate, employee.salary].forEach(value => {
                    const td = document.createElement('td');
                    td.textContent = value;
                    row.appendChild(td);
                });
                
                tbody.appendChild(row);
            });
            
            table.appendChild(tbody);
            printWindow.document.write(table.outerHTML);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            
            setTimeout(() => {
                printWindow.print();
            }, 200);
        }

        // Initialize the table when the page loads
        window.onload = initializeTable;
    </script>
{% endblock %}

{% block content %}
	<!-- BEGIN container -->
	<div class="container">
		<!-- BEGIN row -->
		<div class="row justify-content-center">
			<!-- BEGIN col-10 -->
			<div class="col-xl-12">
				<!-- BEGIN row -->
				<div class="row">
					<!-- BEGIN col-9 -->
					<div class="col-xl-12">
						<ul class="breadcrumb">
							<li class="breadcrumb-item"><a href="#">TABLES</a></li>
							<li class="breadcrumb-item active">TABLE PLUGINS</li>
						</ul>
						
						<h1 class="page-header">
							Table Plugins <small>page header description goes here...</small>
						</h1>
						
						<hr class="mb-4">
						
						<!-- BEGIN #datatable -->
						<div id="datatable" class="mb-5">
							<h4>Datatable</h4>
							<p>DataTables is a plug-in for the jQuery Javascript library. It is a highly flexible tool, built upon the foundations of progressive enhancement, that adds all of these advanced features to any HTML table. Please read the <a href="https://datatables.net/" target="_blank">official documentation</a> for the full list of options.</p>
							<div class="card">
								<div class="card-body">
									
        <!-- Top Pagination Controls -->
        <div class="pagination-container">
            <div class="entries-per-page">
                <label for="entriesPerPageTop">entries per page</label>
                <select id="entriesPerPageTop" onchange="changeEntriesPerPage(this.value)">
                    <option value="10" selected>10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>
            </div>
            
            <div class="pagination-controls">
                <div class="pagination-input">
                    <input type="number" id="pageInputTop" min="1" placeholder="1">
                    <span>of <span id="totalPagesTop">6</span></span>
                    <button class="btn-go" onclick="goToInputPage('pageInputTop')">Go</button>
                </div>
                
                <div class="search-container">
                    <label for="searchInput">Search:</label>
                    <input type="text" id="searchInput"  oninput="searchEmployees()">
                </div>
                
                <div class="action-buttons">
                    <button class="btn-go" onclick="printTable()">
                        <i class="fas fa-print"></i> Print
                    </button>
                    <button class="btn-go" onclick="exportToCSV()">
                        <i class="fas fa-download"></i> CSV
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Table -->
        <div class="table-container">
            <table class="data-table " id="employeeTable" >
                <thead>
                    <tr>
                        <th onclick="sortTable(-1)"># <i class="fas fa-sort sort-icon"></i></th>
                        <th onclick="sortTable(0)">Name <i class="fas fa-sort sort-icon"></i></th>
                        <th onclick="sortTable(1)">Position <i class="fas fa-sort sort-icon"></i></th>
                        <th onclick="sortTable(2)">Office <i class="fas fa-sort sort-icon"></i></th>
                        <th onclick="sortTable(3)">Age <i class="fas fa-sort sort-icon"></i></th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be inserted here -->
                </tbody>
            </table>
            
            <div id="noResults" class="no-results" style="display: none;">
                <i class="fas fa-search fa-2x" style="margin-bottom: 16px; opacity: 0.5;"></i>
                <p>No employees found matching your search criteria.</p>
            </div>
        </div>
        
        <!-- Bottom Pagination Controls -->
        <div class="pagination-container">
            <div class="pagination-info" id="paginationInfo">
                Showing 1 to 10 of 57 entries
            </div>
            
            <div class="pagination-controls">
                <div class="pagination-nav">
                    <button class="page-btn" id="prevBtn" onclick="changePage(-1)">«</button>
                    <button class="page-btn" id="firstBtn" onclick="goToPage(1)">‹</button>
                    <span>...</span>
                    <button class="page-btn" id="nextBtn" onclick="changePage(1)">›</button>
                    <button class="page-btn" id="lastBtn" onclick="goToPage(totalPages)">»</button>
                </div>
                
                <div class="pagination-input">
                    <input type="number" id="pageInputBottom" min="1" placeholder="1">
                    <span>of <span id="totalPagesBottom">6</span></span>
                    <button class="btn" onclick="goToInputPage('pageInputBottom')">Go</button>
                </div>
            </div>
        </div>
    </div>
						<!-- END #datatable -->
						
					
		<div class="hljs-container">
		<pre><code class="xml" data-url="{% static 'data/table-plugins/code-1.json' %}"></code></pre>
		</div>
	</div>
</div>
	<!-- END container -->
{% endblock %}